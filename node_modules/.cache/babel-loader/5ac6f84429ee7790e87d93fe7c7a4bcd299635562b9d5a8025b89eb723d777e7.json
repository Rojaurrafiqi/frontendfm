{"ast":null,"code":"const fs = require('fs');\nconst path = require('path');\nconst Fuse = require('fuse.js');\nconst provinsi = (searchQuery, inRegion) => {\n  return new Promise((resolve, reject) => {\n    fs.readFile(path.join(__dirname, '../data/kota.json'), (err, data) => {\n      if (err) {\n        reject(err);\n      }\n      const dataJSON = JSON.parse(data);\n      const options = {\n        threshold: 0.2,\n        keys: ['kota']\n      };\n      if (inRegion && inRegion.provinsi) {\n        const fuseProvinsi = new Fuse(dataJSON, {\n          threshold: 0.2,\n          keys: ['provinsi']\n        });\n        const resultProvinsi = fuseProvinsi.search(inRegion.provinsi);\n        const dataConvertProvinsi = [];\n        resultProvinsi.forEach(element => {\n          dataConvertProvinsi.push(element.item);\n        });\n        const fuseKota = new Fuse(dataConvertProvinsi, {\n          threshold: 0.2,\n          keys: ['kota']\n        });\n        const resultKota = fuseKota.search(searchQuery);\n        const dataConvertKota = [];\n        resultKota.forEach(element => {\n          dataConvertKota.push(element.item);\n        });\n        resolve(dataConvertKota);\n      } else {\n        const fuse = new Fuse(dataJSON, options);\n        const result = fuse.search(searchQuery);\n        const dataConvert = [];\n        result.forEach(element => {\n          dataConvert.push(element.item);\n        });\n        resolve(dataConvert);\n      }\n    });\n  });\n};\nmodule.exports = provinsi;","map":{"version":3,"names":["fs","require","path","Fuse","provinsi","searchQuery","inRegion","Promise","resolve","reject","readFile","join","__dirname","err","data","dataJSON","JSON","parse","options","threshold","keys","fuseProvinsi","resultProvinsi","search","dataConvertProvinsi","forEach","element","push","item","fuseKota","resultKota","dataConvertKota","fuse","result","dataConvert","module","exports"],"sources":["C:/xampp/htdocs/filemedis/tampilan/node_modules/wilayah-indonesia/select/kota-kabupaten.js"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst Fuse = require('fuse.js');\n\nconst provinsi = (searchQuery, inRegion) => {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.readFile(path.join(__dirname, '../data/kota.json'), (err, data) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t}\n\n\t\t\tconst dataJSON = JSON.parse(data);\n\n\t\t\tconst options = {\n\t\t\t\tthreshold: 0.2,\n\t\t\t\tkeys: ['kota']\n\t\t\t};\n\n\t\t\tif (inRegion && inRegion.provinsi) {\n\t\t\t\tconst fuseProvinsi = new Fuse(dataJSON, {\n\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\tkeys: ['provinsi']\n\t\t\t\t});\n\t\t\t\tconst resultProvinsi = fuseProvinsi.search(inRegion.provinsi);\n\n\t\t\t\tconst dataConvertProvinsi = [];\n\t\t\t\tresultProvinsi.forEach(element => {\n\t\t\t\t\tdataConvertProvinsi.push(element.item);\n\t\t\t\t});\n\n\t\t\t\tconst fuseKota = new Fuse(dataConvertProvinsi, {\n\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\tkeys: ['kota']\n\t\t\t\t});\n\n\t\t\t\tconst resultKota = fuseKota.search(searchQuery);\n\n\t\t\t\tconst dataConvertKota = [];\n\t\t\t\tresultKota.forEach(element => {\n\t\t\t\t\tdataConvertKota.push(element.item);\n\t\t\t\t});\n\n\t\t\t\tresolve(dataConvertKota);\n\t\t\t} else {\n\t\t\t\tconst fuse = new Fuse(dataJSON, options);\n\n\t\t\t\tconst result = fuse.search(searchQuery);\n\n\t\t\t\tconst dataConvert = [];\n\t\t\t\tresult.forEach(element => {\n\t\t\t\t\tdataConvert.push(element.item);\n\t\t\t\t});\n\n\t\t\t\tresolve(dataConvert);\n\t\t\t}\n\t\t});\n\t});\n};\n\nmodule.exports = provinsi;\n"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,IAAI,GAAGF,OAAO,CAAC,SAAS,CAAC;AAE/B,MAAMG,QAAQ,GAAGA,CAACC,WAAW,EAAEC,QAAQ,KAAK;EAC3C,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACvCT,EAAE,CAACU,QAAQ,CAACR,IAAI,CAACS,IAAI,CAACC,SAAS,EAAE,mBAAmB,CAAC,EAAE,CAACC,GAAG,EAAEC,IAAI,KAAK;MACrE,IAAID,GAAG,EAAE;QACRJ,MAAM,CAACI,GAAG,CAAC;MACZ;MAEA,MAAME,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MAEjC,MAAMI,OAAO,GAAG;QACfC,SAAS,EAAE,GAAG;QACdC,IAAI,EAAE,CAAC,MAAM;MACd,CAAC;MAED,IAAId,QAAQ,IAAIA,QAAQ,CAACF,QAAQ,EAAE;QAClC,MAAMiB,YAAY,GAAG,IAAIlB,IAAI,CAACY,QAAQ,EAAE;UACvCI,SAAS,EAAE,GAAG;UACdC,IAAI,EAAE,CAAC,UAAU;QAClB,CAAC,CAAC;QACF,MAAME,cAAc,GAAGD,YAAY,CAACE,MAAM,CAACjB,QAAQ,CAACF,QAAQ,CAAC;QAE7D,MAAMoB,mBAAmB,GAAG,EAAE;QAC9BF,cAAc,CAACG,OAAO,CAACC,OAAO,IAAI;UACjCF,mBAAmB,CAACG,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC;QACvC,CAAC,CAAC;QAEF,MAAMC,QAAQ,GAAG,IAAI1B,IAAI,CAACqB,mBAAmB,EAAE;UAC9CL,SAAS,EAAE,GAAG;UACdC,IAAI,EAAE,CAAC,MAAM;QACd,CAAC,CAAC;QAEF,MAAMU,UAAU,GAAGD,QAAQ,CAACN,MAAM,CAAClB,WAAW,CAAC;QAE/C,MAAM0B,eAAe,GAAG,EAAE;QAC1BD,UAAU,CAACL,OAAO,CAACC,OAAO,IAAI;UAC7BK,eAAe,CAACJ,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC;QACnC,CAAC,CAAC;QAEFpB,OAAO,CAACuB,eAAe,CAAC;MACzB,CAAC,MAAM;QACN,MAAMC,IAAI,GAAG,IAAI7B,IAAI,CAACY,QAAQ,EAAEG,OAAO,CAAC;QAExC,MAAMe,MAAM,GAAGD,IAAI,CAACT,MAAM,CAAClB,WAAW,CAAC;QAEvC,MAAM6B,WAAW,GAAG,EAAE;QACtBD,MAAM,CAACR,OAAO,CAACC,OAAO,IAAI;UACzBQ,WAAW,CAACP,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC;QAC/B,CAAC,CAAC;QAEFpB,OAAO,CAAC0B,WAAW,CAAC;MACrB;IACD,CAAC,CAAC;EACH,CAAC,CAAC;AACH,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGhC,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}