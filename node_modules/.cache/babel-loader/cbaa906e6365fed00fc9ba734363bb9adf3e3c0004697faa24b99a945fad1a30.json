{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\filemedis\\\\tampilan\\\\src\\\\pages\\\\pendaftaran\\\\LiveSearchWithPagination.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useState, useCallback } from 'react';\nimport axios from \"axios\";\nimport useSWR from 'swr';\n// import useSWRPages from 'swr/dist/types/use-swr-pages';\n// import useSWRPages from 'swr/esm/use-swr-pages';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiveSearchWithPagination = () => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const handleSearchTermChange = useCallback(event => {\n    setSearchTerm(event.target.value);\n    setCurrentPage(1);\n  }, []);\n  const fetcher = async url => {\n    const response = await axios.get(url);\n    return response.data;\n  };\n  const getData = (pageIndex, previousPageData) => {\n    if (previousPageData && !previousPageData.length) return null;\n    const offset = (pageIndex - 1) * 10;\n    const url = `http://localhost:5000/rm?searchTerm=${searchTerm}&page=${pageIndex}&offset=${offset}`;\n    return fetcher(url);\n  };\n  const {\n    pages,\n    isLoadingMore,\n    isReachingEnd,\n    loadMore\n  } = useSWRPages('data', getData, _ref => {\n    let {\n      data\n    } = _ref;\n    return data.length;\n  }, [searchTerm, currentPage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: searchTerm,\n      onChange: handleSearchTermChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this), pages[currentPage - 1].map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: item.name\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)), !isReachingEnd && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setCurrentPage(prev => prev + 1),\n      children: \"Load More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isLoadingMore && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveSearchWithPagination, \"yLT8TFEesGkhHw9vt6s9c5qv+eE=\", true);\n_c = LiveSearchWithPagination;\nexport default LiveSearchWithPagination;\nvar _c;\n$RefreshReg$(_c, \"LiveSearchWithPagination\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","useSWR","jsxDEV","_jsxDEV","LiveSearchWithPagination","_s","searchTerm","setSearchTerm","currentPage","setCurrentPage","handleSearchTermChange","event","target","value","fetcher","url","response","get","data","getData","pageIndex","previousPageData","length","offset","pages","isLoadingMore","isReachingEnd","loadMore","useSWRPages","_ref","children","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","map","item","name","id","onClick","prev","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/filemedis/tampilan/src/pages/pendaftaran/LiveSearchWithPagination.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport axios from \"axios\";\r\nimport useSWR from 'swr';\r\n// import useSWRPages from 'swr/dist/types/use-swr-pages';\r\n// import useSWRPages from 'swr/esm/use-swr-pages';\r\n\r\n\r\nconst LiveSearchWithPagination = () => {\r\n\r\nconst [searchTerm, setSearchTerm] = useState('');\r\nconst [currentPage, setCurrentPage] = useState(1);\r\n\r\nconst handleSearchTermChange = useCallback((event) => {\r\n  setSearchTerm(event.target.value);\r\n  setCurrentPage(1);\r\n}, []);\r\n\r\nconst fetcher = async (url) => {\r\n  const response = await axios.get(url);\r\n  return response.data;\r\n};\r\n\r\nconst getData = (pageIndex, previousPageData) => {\r\n  if (previousPageData && !previousPageData.length) return null;\r\n\r\n  const offset = (pageIndex - 1) * 10;\r\n  const url = `http://localhost:5000/rm?searchTerm=${searchTerm}&page=${pageIndex}&offset=${offset}`;\r\n\r\n  return fetcher(url);\r\n};\r\n\r\nconst {\r\n  pages,\r\n  isLoadingMore,\r\n  isReachingEnd,\r\n  loadMore,\r\n} = useSWRPages(\r\n  'data',\r\n  getData,\r\n  ({ data }) => data.length,\r\n  [searchTerm, currentPage]\r\n);\r\n\r\n\r\n  return (\r\n    <div>\r\n    \r\n    <input type=\"text\" value={searchTerm} onChange={handleSearchTermChange} />\r\n\r\n    {pages[currentPage - 1].map((item) => (\r\n      <div key={item.id}>{item.name}</div>\r\n    ))}\r\n\r\n    {!isReachingEnd && (\r\n      <button onClick={() => setCurrentPage((prev) => prev + 1)}>Load More</button>\r\n    )}\r\n\r\n    {isLoadingMore && <div>Loading...</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LiveSearchWithPagination"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,KAAK;AACxB;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGA,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEvC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAEjD,MAAMY,sBAAsB,GAAGX,WAAW,CAAEY,KAAK,IAAK;IACpDJ,aAAa,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;IACjCJ,cAAc,CAAC,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,OAAO,GAAG,MAAOC,GAAG,IAAK;IAC7B,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAACF,GAAG,CAAC;IACrC,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC;EAED,MAAMC,OAAO,GAAGA,CAACC,SAAS,EAAEC,gBAAgB,KAAK;IAC/C,IAAIA,gBAAgB,IAAI,CAACA,gBAAgB,CAACC,MAAM,EAAE,OAAO,IAAI;IAE7D,MAAMC,MAAM,GAAG,CAACH,SAAS,GAAG,CAAC,IAAI,EAAE;IACnC,MAAML,GAAG,GAAI,uCAAsCT,UAAW,SAAQc,SAAU,WAAUG,MAAO,EAAC;IAElG,OAAOT,OAAO,CAACC,GAAG,CAAC;EACrB,CAAC;EAED,MAAM;IACJS,KAAK;IACLC,aAAa;IACbC,aAAa;IACbC;EACF,CAAC,GAAGC,WAAW,CACb,MAAM,EACNT,OAAO,EACPU,IAAA;IAAA,IAAC;MAAEX;IAAK,CAAC,GAAAW,IAAA;IAAA,OAAKX,IAAI,CAACI,MAAM;EAAA,GACzB,CAAChB,UAAU,EAAEE,WAAW,CAAC,CAC1B;EAGC,oBACEL,OAAA;IAAA2B,QAAA,gBAEA3B,OAAA;MAAO4B,IAAI,EAAC,MAAM;MAAClB,KAAK,EAAEP,UAAW;MAAC0B,QAAQ,EAAEtB;IAAuB;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,EAEzEZ,KAAK,CAAChB,WAAW,GAAG,CAAC,CAAC,CAAC6B,GAAG,CAAEC,IAAI,iBAC/BnC,OAAA;MAAA2B,QAAA,EAAoBQ,IAAI,CAACC;IAAI,GAAnBD,IAAI,CAACE,EAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAClB,CAAC,EAED,CAACV,aAAa,iBACbvB,OAAA;MAAQsC,OAAO,EAAEA,CAAA,KAAMhC,cAAc,CAAEiC,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAE;MAAAZ,QAAA,EAAC;IAAS;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACrE,EAEAX,aAAa,iBAAItB,OAAA;MAAA2B,QAAA,EAAK;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACjC;AAEV,CAAC;AAAA/B,EAAA,CArDKD,wBAAwB;AAAAuC,EAAA,GAAxBvC,wBAAwB;AAuD9B,eAAeA,wBAAwB;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}