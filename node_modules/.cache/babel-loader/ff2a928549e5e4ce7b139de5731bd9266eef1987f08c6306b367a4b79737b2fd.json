{"ast":null,"code":"const fs = require('fs');\nconst path = require('path');\nconst Fuse = require('fuse.js');\nconst provinsi = (searchQuery, inRegion) => {\n  return new Promise((resolve, reject) => {\n    fs.readFile(path.join(__dirname, '../data/kelurahan.json'), (err, data) => {\n      if (err) {\n        reject(err);\n      }\n      const dataJSON = JSON.parse(data);\n      const options = {\n        threshold: 0.2,\n        keys: ['kelurahan']\n      };\n      if (inRegion) {\n        let dataWithRegion = dataJSON;\n        if (inRegion.provinsi) {\n          const fuseProvinsi = new Fuse(dataWithRegion, {\n            threshold: 0.2,\n            keys: ['provinsi']\n          });\n          const resultProvinsi = fuseProvinsi.search(inRegion.provinsi);\n          const dataConvertProvinsi = [];\n          resultProvinsi.forEach(element => {\n            dataConvertProvinsi.push(element.item);\n          });\n          dataWithRegion = dataConvertProvinsi;\n        }\n        if (inRegion.kota) {\n          const fuseKota = new Fuse(dataWithRegion, {\n            threshold: 0.2,\n            keys: ['kota']\n          });\n          const resultKota = fuseKota.search(inRegion.kota);\n          const dataConvertKota = [];\n          resultKota.forEach(element => {\n            dataConvertKota.push(element.item);\n          });\n          dataWithRegion = dataConvertKota;\n        }\n        if (inRegion.kecamatan) {\n          const fuseKecamatan = new Fuse(dataWithRegion, {\n            threshold: 0.2,\n            keys: ['kecamatan']\n          });\n          const resultKecamatan = fuseKecamatan.search(inRegion.kecamatan);\n          const dataConvertKecamatan = [];\n          resultKecamatan.forEach(element => {\n            dataConvertKecamatan.push(element.item);\n          });\n          dataWithRegion = dataConvertKecamatan;\n        }\n        const fuseKelurahan = new Fuse(dataWithRegion, {\n          threshold: 0.2,\n          keys: ['kelurahan']\n        });\n        const resultKelurahan = fuseKelurahan.search(searchQuery);\n        const dataConvertKelurahan = [];\n        resultKelurahan.forEach(element => {\n          dataConvertKelurahan.push(element.item);\n        });\n        resolve(dataConvertKelurahan);\n      } else {\n        const fuse = new Fuse(dataJSON, options);\n        const result = fuse.search(searchQuery);\n        const dataConvert = [];\n        result.forEach(element => {\n          dataConvert.push(element.item);\n        });\n        resolve(dataConvert);\n      }\n    });\n  });\n};\nmodule.exports = provinsi;","map":{"version":3,"names":["fs","require","path","Fuse","provinsi","searchQuery","inRegion","Promise","resolve","reject","readFile","join","__dirname","err","data","dataJSON","JSON","parse","options","threshold","keys","dataWithRegion","fuseProvinsi","resultProvinsi","search","dataConvertProvinsi","forEach","element","push","item","kota","fuseKota","resultKota","dataConvertKota","kecamatan","fuseKecamatan","resultKecamatan","dataConvertKecamatan","fuseKelurahan","resultKelurahan","dataConvertKelurahan","fuse","result","dataConvert","module","exports"],"sources":["C:/xampp/htdocs/filemedis/tampilan/node_modules/wilayah-indonesia/select/kelurahan.js"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst Fuse = require('fuse.js');\n\nconst provinsi = (searchQuery, inRegion) => {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.readFile(path.join(__dirname, '../data/kelurahan.json'), (err, data) => {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t}\n\n\t\t\tconst dataJSON = JSON.parse(data);\n\n\t\t\tconst options = {\n\t\t\t\tthreshold: 0.2,\n\t\t\t\tkeys: ['kelurahan']\n\t\t\t};\n\n\t\t\tif (inRegion) {\n\t\t\t\tlet dataWithRegion = dataJSON;\n\t\t\t\tif (inRegion.provinsi) {\n\t\t\t\t\tconst fuseProvinsi = new Fuse(dataWithRegion, {\n\t\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\t\tkeys: ['provinsi']\n\t\t\t\t\t});\n\t\t\t\t\tconst resultProvinsi = fuseProvinsi.search(inRegion.provinsi);\n\n\t\t\t\t\tconst dataConvertProvinsi = [];\n\t\t\t\t\tresultProvinsi.forEach(element => {\n\t\t\t\t\t\tdataConvertProvinsi.push(element.item);\n\t\t\t\t\t});\n\t\t\t\t\tdataWithRegion = dataConvertProvinsi;\n\t\t\t\t}\n\n\t\t\t\tif (inRegion.kota) {\n\t\t\t\t\tconst fuseKota = new Fuse(dataWithRegion, {\n\t\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\t\tkeys: ['kota']\n\t\t\t\t\t});\n\t\t\t\t\tconst resultKota = fuseKota.search(inRegion.kota);\n\n\t\t\t\t\tconst dataConvertKota = [];\n\t\t\t\t\tresultKota.forEach(element => {\n\t\t\t\t\t\tdataConvertKota.push(element.item);\n\t\t\t\t\t});\n\n\t\t\t\t\tdataWithRegion = dataConvertKota;\n\t\t\t\t}\n\n\t\t\t\tif (inRegion.kecamatan) {\n\t\t\t\t\tconst fuseKecamatan = new Fuse(dataWithRegion, {\n\t\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\t\tkeys: ['kecamatan']\n\t\t\t\t\t});\n\t\t\t\t\tconst resultKecamatan = fuseKecamatan.search(inRegion.kecamatan);\n\n\t\t\t\t\tconst dataConvertKecamatan = [];\n\t\t\t\t\tresultKecamatan.forEach(element => {\n\t\t\t\t\t\tdataConvertKecamatan.push(element.item);\n\t\t\t\t\t});\n\t\t\t\t\tdataWithRegion = dataConvertKecamatan;\n\t\t\t\t}\n\n\t\t\t\tconst fuseKelurahan = new Fuse(dataWithRegion, {\n\t\t\t\t\tthreshold: 0.2,\n\t\t\t\t\tkeys: ['kelurahan']\n\t\t\t\t});\n\n\t\t\t\tconst resultKelurahan = fuseKelurahan.search(searchQuery);\n\n\t\t\t\tconst dataConvertKelurahan = [];\n\t\t\t\tresultKelurahan.forEach(element => {\n\t\t\t\t\tdataConvertKelurahan.push(element.item);\n\t\t\t\t});\n\n\t\t\t\tresolve(dataConvertKelurahan);\n\t\t\t} else {\n\t\t\t\tconst fuse = new Fuse(dataJSON, options);\n\n\t\t\t\tconst result = fuse.search(searchQuery);\n\n\t\t\t\tconst dataConvert = [];\n\t\t\t\tresult.forEach(element => {\n\t\t\t\t\tdataConvert.push(element.item);\n\t\t\t\t});\n\n\t\t\t\tresolve(dataConvert);\n\t\t\t}\n\t\t});\n\t});\n};\n\nmodule.exports = provinsi;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}